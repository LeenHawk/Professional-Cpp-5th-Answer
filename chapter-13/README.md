# chapter-13 C++ I/O 揭秘

## 13-1

请回顾一下在前面章节的练习中开发的 Person 类。从练习9-2中获取实现，并添加一个 outPut() 方法，该方法将一个人的详细信息写入标准输出控制台。

## 13-2

上一个练习中的 outPut() 方法总是将一个人的详细信息写入标准输出控制台。请更改 outPut() 方法，使其具有一个输出流作为参数，并将一个人的详细信息写入该流。通过将一个人写入标准输出控制台、一个字符串流和一个文件，在 main() 中测试新的实现。请注意，如何通过使用流的单一方法将一个人输出到各种不同的目标（输出控制台、字符串流、文件等）。

## 13-3

开发一个名为 Database 的类，在 std::vector 中存储 Persons （来自练习13-2）。提供一个 add() 方法来将一个人添加到数据库中，还提供一个 save() 方法，接收一个文件的名称，它将数据库中的所有人保存到该文件中，并且文件中的任何现有内容都将被删除。添加一个 load() 方法，接收一个文件的名称，并且数据库从中加载所有人的信息。提供 clear() 方法，以便从数据库中删除所有人员。最后，添加一个 outputAll() 方法，对数据库中的所有人员调用 output()。即使一个人的名字或姓氏中有空格，也要确保该实现可以工作。

## 13-4

练习 13-3 中的数据库将所有人存储在一个文件中。为了练习文件系统支持库，将其更改为将每个人存储在其自己的文件中。修改 save() 和 load() 方法以接收一个目录作为参数，文件应该存储在这个目录中或从该目录加载。 save() 方法将数据库中的每个人保存到其自己的文件中，以该人的姓名首字母作为名称，并使用 .person 作为扩展名。如果这个文件己经存在，那么将会被覆盖。 load() 方法遍历给定目录中的所有 .person 文件，并加载所有这些文件。
